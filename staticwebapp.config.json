{
  "platform": { "apiRuntime": "node:20" },

  "routes": [
    { "route": "/api/*", "allowedRoles": ["authenticated"] },

    { "route": "/manifest.json",         "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/manifest.webmanifest",  "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/asset-manifest.json",   "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/favicon.ico",           "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/service-worker.js",     "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/logo*",                 "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/icons/*",               "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/static/*",              "methods": ["GET"], "allowedRoles": ["anonymous"] },
    { "route": "/assets/*",              "methods": ["GET"], "allowedRoles": ["anonymous"] }
  ],

  "navigationFallback": {
    "rewrite": "/index.html",
    "exclude": [
      "/api/*",
      "/static/*",
      "/assets/*",
      "/icons/*",
      "/favicon.ico",
      "/manifest.json",
      "/manifest.webmanifest",
      "/asset-manifest.json",
      "/service-worker.js",
      "/logo*"
    ]
  },

  "mimeTypes": {
    ".webmanifest": "application/manifest+json"
  }
}